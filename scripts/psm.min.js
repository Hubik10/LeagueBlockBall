var psmMgrConfig={psmBrand:"EUROSPORT",psmSubBrand:"eurosport.tvn24.pl",psmBootstrapVersion:"web/release/4.4.0",psmHost:"warnermediacdn.com",psmEnvironment:"release",psmBrandToken:"eurosport-tvn24-pl"},psmMgr={psmBootstrapProdEnvironment:psmMgrConfig.psmBootstrapProdEnvironment||"PROD",psmBootstrapNonProdEnvironment:psmMgrConfig.psmBootstrapNonProdEnvironment||"TEST",psmBootstrapVersion:psmMgrConfig.psmBootstrapVersion||"0.0",psmTelBootstrapVersion:psmMgrConfig.psmTelVersion||"0.0",psmBootstrapEnvironment:"TEST",psmGeoCookieName:psmMgrConfig.psmGeoCookieName||"countryCode",psmGeoExpectedCookieValues:psmMgrConfig.psmGeoExpectedCookieValues||["US","PR","VI","UM"],psmSendGeoInit:void 0===psmMgrConfig.psmSendGeoInit||psmMgrConfig.psmSendGeoInit,psmHost:-1===psmMgrConfig.psmHost.indexOf(".")?psmMgrConfig.psmHost+".com":psmMgrConfig.psmHost,psmShortCircuit:void 0!==psmMgrConfig.psmShortCircuit&&psmMgrConfig.psmShortCircuit,psmTelThrottleBy:"number"==typeof psmMgrConfig.psmTelThrottleBy&&psmMgrConfig.psmTelThrottleBy<10&&0<=psmMgrConfig.psmTelThrottleBy?parseInt(psmMgrConfig.psmTelThrottleBy):0,psmTelLoadSdk:void 0!==psmMgrConfig.psmTelLoadSdk&&psmMgrConfig.psmTelLoadSdk,psmMonitorTop2Player:void 0!==psmMgrConfig.psmMonitorTop2Player&&psmMgrConfig.psmMonitorTop2Player,ttl:86400,psm_data_test_version:null,psm_test_ts:null,psm_data_test_environment:null,expires_ts:null,PLAYER_LOAD_ITERATION_COUNT:18,SDK_LOAD_ITERATION_COUNT:200,SDK_LOAD_INTERVAL_MS:600,initPsm:function(){window.WM=window.WM||{},window.WM.PSM=window.WM.PSM||{};var t={platform:psmMgrConfig.psmPlatform||"web",brand:psmMgrConfig.psmBrand,subBrand:void 0!==psmMgrConfig.psmSubBrand?psmMgrConfig.psmSubBrand:"",psmEnvironment:psmMgr.psmBootstrapEnvironment,countryCode:!0===psmMgr.psmSendGeoInit?psmMgr.psmGeoActualCookieValue:"",cookieDomain:psmMgr.psmHost,topics:psmMgrConfig.psmTopics||{},contentMetadata:psmMgrConfig.psmContentMetadata||{},bootstrapVersion:psmMgr.psmBootstrapVersion,pollingVersion:psmMgrConfig.psmBootstrapVersion,psmBrandToken:psmMgrConfig.psmBrandToken||psmMgrConfig.psmBrand,privacyMode:psmMgrConfig.privacyMode,psmFlipRolloutPercent:void 0!==psmMgrConfig.psmFlipRolloutPercent?psmMgrConfig.psmFlipRolloutPercent:0},t=(psmMgrConfig.psmAppId&&(t.appId=psmMgrConfig.psmAppId),WM.PSM.initPsm(t),parseInt(Date.now().toString().substr(-1)));!0===psmMgr.psmTelLoadSdk&&psmMgr.psmTelThrottleBy<=t?psmMgr.loadPsmTel():!0===psmMgr.psmMonitorTop2Player&&psmMgr.loadPlayerObject(psmMgr.startMonitoringVideo),0<psmMgr.psmTelThrottleBy&&psmMgr.log("psm tel throttled by "+psmMgr.psmTelThrottleBy+"0%")},startMonitoringVideo:function(){window.psmVideo.top2.startMonitoring(window.TopPlayer)},startMonitoringTop2:function(t){var s=0,o=setInterval(function(){++s,"undefined"!=typeof window&&void 0!==window.psmVideo&&(window.psmVideo.top2.startMonitoring(t),clearInterval(o)),s>=this.SDK_LOAD_ITERATION_COUNT&&clearInterval(o)},this.SDK_LOAD_INTERVAL_MS)},loadPlayerObject:function(t){i=0;var s=setInterval(function(){++i,"undefined"!=typeof TopPlayer&&(psmMgr.log("Player Object Found .. on iteration "+i),t(),clearInterval(s)),i>=psmMgr.PLAYER_LOAD_ITERATION_COUNT&&(clearInterval(s),psmMgr.log("Player Object Not Found"))},600)},initPsmTel:function(){psmMgr.log("INIT psmTel");var t={brand:psmMgrConfig.psmBrand,subBrand:void 0!==psmMgrConfig.psmSubBrand?psmMgrConfig.psmSubBrand:"",streamType:void 0!==psmMgrConfig.psmTelStreamType?psmMgrConfig.psmTelStreamType:"",environment:psmMgr.psmBootstrapEnvironment};"undefined"!=typeof TopPlayer?(psmMgr.log("Init PSM TEL"),psmVideo.init(t,TopPlayer)):psmMgr.log("PSM TEL Not Initialised")},loadScript:function(t,s){var o=document.createElement("script"),t=(o.type="text/javascript",o.async=!0,o.src=t,s&&o.addEventListener("load",s),document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(o,t)},getParameterByName:function(t){var s=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(s);if(!t)return null;if(!t[2])return"";s=decodeURIComponent(t[2].replace(/\+/g," "));return"true"===s||"false"!==s&&s},getCookie:function(t){t=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return t?t[2]:""},log:function(t){void 0!==psmMgr.psm_test_ts&&psmMgr.psm_test_ts&&console.log(t)},applyTestOverrides:function(){this.psm_data_test_version=this.getParameterByName("psm_data_test_version"),this.psm_tel_test_version=this.getParameterByName("psm_tel_test_version"),this.psm_test_ts=parseInt(this.getParameterByName("psm_test_ts")),this.psm_data_test_environment=this.getParameterByName("psm_data_test_environment"),this.psm_test_country_code=this.getParameterByName("psm_test_country_code"),this.psm_monitor_top_2_player=this.getParameterByName("psm_monitor_top_2_player"),this.psm_tel_load_beta_sdk=this.getParameterByName("psm_tel_load_beta_sdk"),now=Math.floor(Date.now()/1e3),this.expires_ts=this.psm_test_ts+this.ttl,this.psmBootstrapEnvironment="release"==psmMgrConfig.psmEnvironment?this.psmBootstrapProdEnvironment:this.psmBootstrapNonProdEnvironment,this.psm_test_ts&&now>this.psm_test_ts&&now<this.expires_ts&&(this.psmBootstrapVersion=this.psm_data_test_version||this.psmBootstrapVersion,this.psmTelBootstrapVersion=this.psm_tel_test_version||this.psmTelBootstrapVersion,this.psmBootstrapEnvironment=this.psm_data_test_environment||this.psmBootstrapEnvironment,this.psmGeoActualCookieValue=this.psm_test_country_code||this.psmGeoActualCookieValue,this.psmMonitorTop2Player=this.psm_monitor_top_2_player||this.psmMonitorTop2Player,this.psmTelLoadSdk=this.psm_tel_load_beta_sdk||this.psmTelLoadSdk,this.log("psm: entering test mode. ","ver:",this.psmBootstrapVersion,"env:",this.psmBootstrapEnvironment,"geo code:",this.psmGeoActualCookieValue,"monitorTop2:",this.psmMonitorTop2Player,"load beta tel sdk:",this.psmTelLoadSdk))},loadPsm:function(){this.psmGeoActualCookieValue=this.getCookie(this.psmGeoCookieName),this.applyTestOverrides();var t=!0;if("0.0"===this.psmBootstrapVersion&&(t=!1),t=this.psmGeoExpectedCookieValues.indexOf(this.psmGeoActualCookieValue)<0&&this.psmShortCircuit?!1:t)try{var s,o=-1!==window.location.search.search(/[?&]psmlocal=[1t]/),e="LG TV"===psmMgrConfig.psmPlatform||"Vizio TV"===psmMgrConfig.psmPlatform?(s="http://localhost:3003/psm.es5.min.umd.js","https://lightning."+this.psmHost+"/cdp/psm/i/"+this.psmBootstrapVersion+"/psm.es5.min.umd.js"):(s="http://localhost:3003/psm.legacy.min.umd.js","https://lightning."+this.psmHost+"/cdp/psm/i/"+this.psmBootstrapVersion+"/psm.legacy.min.umd.js"),p=o?s:e;this.loadScript(p,this.initPsm)}catch(t){this.log("psm legacy did not load",t)}},loadPsmTel:function(){var t=!1;if(t="0.0"!==psmMgr.psmTelBootstrapVersion?!0:t)try{psmMgr.log("try to load psm tel"),psmMgr.loadScript("https://lightning."+psmMgr.psmHost+"/cdp/psm/tel/"+psmMgr.psmTelBootstrapVersion+"/psm-tel.js",psmMgr.loadPlayerObject(psmMgr.initPsmTel))}catch(t){psmMgr.log("psm tel did not load",t)}}};psmMgr.loadPsm();